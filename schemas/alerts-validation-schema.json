{
  "entity": "Alerts",
  "description": "Publications de type alerte",
  "fields": {
    "id": {
      "type": "integer",
      "required": true,
      "auto_generated": true,
      "description": "Identifiant unique"
    },
    "messageHtml": {
      "type": "text",
      "format": "html",
      "required": true,
      "max_length": 3000,
      "description": "Message de l'alerte (HTML WYSIWYG)"
    },
    "alertTypeId": {
      "type": "string",
      "required": true,
      "description": "ID du type d'alerte"
    },
    "priorityId": {
      "type": "string",
      "required": true,
      "description": "ID de la priorité de l'alerte"
    },
    "residenceIds": {
      "type": "array",
      "item_type": "string",
      "required": true,
      "min_items": 1,
      "description": "Liste des IDs des résidences cibles"
    },
    "targetResidenceNames": {
      "type": "array",
      "item_type": "string",
      "required": false,
      "description": "Noms des résidences (affichage)"
    },
    "status": {
      "type": "enum",
      "required": true,
      "values": ["draft", "published"],
      "description": "Statut de publication"
    },
    "publishAt": {
      "type": "datetime",
      "required": true,
      "format": "yyyy-MM-dd HH:mm:ss",
      "description": "Date et heure de publication"
    },
    "publishLater": {
      "type": "boolean",
      "required": false,
      "default": false,
      "description": "Publication programmée"
    },
    "resolvedAt": {
      "type": "datetime",
      "required": false,
      "nullable": true,
      "format": "ISO8601",
      "description": "Date de résolution de l'alerte"
    },
    "resolvedBy": {
      "type": "string",
      "required": false,
      "nullable": true,
      "description": "ID de l'utilisateur qui a résolu l'alerte"
    },
    "createdAt": {
      "type": "datetime",
      "required": true,
      "auto_generated": true,
      "description": "Date de création"
    },
    "createdBy": {
      "type": "string",
      "required": true,
      "description": "ID utilisateur créateur"
    },
    "updatedAt": {
      "type": "datetime",
      "required": false,
      "nullable": true,
      "description": "Dernière modification"
    },
    "alertSettings": {
      "type": "json",
      "required": false,
      "nullable": true,
      "structure": {
        "sendPushNotification": "boolean",
        "sendEmail": "boolean",
        "autoResolveAfterHours": "integer"
      },
      "description": "Paramètres spécifiques aux alertes"
    }
  }
} 